/*
* This header is generated by classdump-dyld 1.0
* on Sunday, December 31, 2017 at 12:56:30 AM Japan Standard Time
* Operating System: Version 10.3.3 (Build 14G60)
* Image Source: /System/Library/PrivateFrameworks/CloudPhotoLibrary.framework/Support/cloudphotod
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <CloudPhotoLibrary/CPLPlatformObject.h>
#import <cloudphotod/APSConnectionDelegate.h>
#import <cloudphotod/CPLEngineTransportImplementation.h>

@protocol OS_dispatch_queue;
@class NSObject, APSConnection, NSMapTable, NSMutableSet, CPLCloudKitOperationCounter, NSMutableDictionary, CDSession, CKContainer, CPLLibraryInfo, NSDate, CKDatabase, CKRecord, CKRecordZone, CPLEngineLibrary, NSString;

@interface CPLCloudKitTransport : CPLPlatformObject <APSConnectionDelegate, CPLEngineTransportImplementation> {

	NSObject*<OS_dispatch_queue> _workQueue;
	APSConnection* _pushConnection;
	NSObject*<OS_dispatch_queue> _pushQueue;
	NSObject*<OS_dispatch_queue> _pendingOperationQueue;
	NSMapTable* _startDateForPendingOperations;
	NSMapTable* _batchStartForPendingOperations;
	NSMapTable* _progressPerOperations;
	NSMutableSet* _cancelledOperations;
	CPLCloudKitOperationCounter* _operationCounter;
	char _registeredPushSubscription;
	double _lastPushRegistrationTime;
	NSMutableDictionary* _duetTicketProvidersPerClientID;
	CDSession* _coreDuetSession;
	CKContainer* _container;
	char _stoppedWaitingForPush;
	CPLLibraryInfo* _cachedLibraryInfo;
	NSDate* _lastLibraryInfoCheckDate;
	unsigned _ongoingDownloadOperations;
	CKDatabase* _database;
	CKRecord* _userRecord;
	CKRecordZone* _primaryZone;
	NSDate* _significantWorkBeginDate;

}

@property (nonatomic,retain,readonly) NSObject*<OS_dispatch_queue> workQueue;              //@synthesize workQueue=_workQueue - In the implementation block
@property (nonatomic,retain) CKDatabase * database;                                        //@synthesize database=_database - In the implementation block
@property (nonatomic,retain) CKRecord * userRecord;                                        //@synthesize userRecord=_userRecord - In the implementation block
@property (nonatomic,retain) CKRecordZone * primaryZone;                                   //@synthesize primaryZone=_primaryZone - In the implementation block
@property (nonatomic,retain,readonly) CPLEngineLibrary * engineLibrary; 
@property (nonatomic,retain) NSDate * significantWorkBeginDate;                            //@synthesize significantWorkBeginDate=_significantWorkBeginDate - In the implementation block
@property (readonly) unsigned hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
@property (nonatomic,readonly) char supportsBatchDownloadPipelining; 
+(id)_betterErrorForRecordId:(id)arg1 recordError:(id)arg2 ;
+(char)_isCKErrorForRejectedRecord:(id)arg1 ;
+(id)_bestErrorForUnderlyingError:(id)arg1 ;
+(id)CloudKitKeyForResourceType:(unsigned)arg1 suffix:(id)arg2 ;
+(id)_errorsByTaskForTasksByRecordId:(id)arg1 fromUnderlyingError:(id)arg2 ;
+(void)_AddMappingsForResourceType:(unsigned)arg1 prefix:(id)arg2 ;
+(void)_AddMappingsForResourceTypes;
+(unsigned)ResourceTypeForCloudKitKey:(id)arg1 outSuffix:(id*)arg2 ;
+(char)HasCloudKitKeyForResourceType:(unsigned)arg1 ;
-(CKRecordZone *)primaryZone;
-(void)setupCloudWithCancelState:(id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(void)setupPushWithCancelState:(id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(void)fetchPrimaryZoneCreateIfNecessary:(char)arg1 proposedZoneName:(id)arg2 cancelState:(id)arg3 completionHandler:(/*^block*/id)arg4 ;
-(void)downloadResourceForTask:(id)arg1 ;
-(void)checkRecordsExistence:(id)arg1 fetchPropertiesRecords:(id)arg2 foreground:(char)arg3 cancelState:(id)arg4 completionHandler:(/*^block*/id)arg5 ;
-(void)uploadChangeBatch:(id)arg1 forSyncAnchor:(id)arg2 foreground:(char)arg3 cancelState:(id)arg4 progressHandler:(/*^block*/id)arg5 completionHandler:(/*^block*/id)arg6 ;
-(void)getLibraryInfo:(char)arg1 updateState:(char)arg2 cancelState:(id)arg3 completionHandler:(/*^block*/id)arg4 ;
-(void)queryNextBatchForCursor:(id)arg1 forClass:(Class)arg2 foreground:(char)arg3 cancelState:(id)arg4 progressHandler:(/*^block*/id)arg5 completionHandler:(/*^block*/id)arg6 ;
-(void)downloadNextChangeBatchForSyncAnchor:(id)arg1 foreground:(char)arg2 cancelState:(id)arg3 progressHandler:(/*^block*/id)arg4 completionHandler:(/*^block*/id)arg5 ;
-(void)publishResource:(id)arg1 foreground:(char)arg2 completionHandler:(/*^block*/id)arg3 ;
-(void)rampingRequestForResourceType:(unsigned)arg1 numRequested:(unsigned)arg2 foreground:(char)arg3 cancelState:(id)arg4 completionHandler:(/*^block*/id)arg5 ;
-(void)inMemoryDownloadResource:(id)arg1 foreground:(char)arg2 cancelState:(id)arg3 completionHandler:(/*^block*/id)arg4 ;
-(void)sendFeedbackMessages:(id)arg1 cancelState:(id)arg2 completionHandler:(/*^block*/id)arg3 ;
-(void)_didCancelCKOperation:(id)arg1 ;
-(void)startWaitingForPushNotifications;
-(void)_resetPushSubscriptionState;
-(void)stopWaitingForPushNotificationsAndDeactivate:(char)arg1 ;
-(void)_cancelAllCKOperationsWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)setIsSignificantWorkPending:(char)arg1 ;
-(id)CPLErrorForCloudKitError:(id)arg1 withRequestUUIDs:(id)arg2 description:(id)arg3 arguments:(void*)arg4 ;
-(void)_setZoneStateEnabled:(char)arg1 withDisabledTime:(id)arg2 deleteTime:(id)arg3 ;
-(void)_didStartCKOperation:(id)arg1 ;
-(void)_didFinishCKOperation:(id)arg1 ;
-(void)processCPLErrorIfNeeded:(id)arg1 ;
-(int)_zoneIndexFromZoneName:(id)arg1 ;
-(id)CPLErrorForCloudKitError:(id)arg1 withRequestUUIDs:(id)arg2 description:(id)arg3 ;
-(char)_isLoggableError:(id)arg1 ;
-(void)setPrimaryZone:(CKRecordZone *)arg1 ;
-(int)_qualityOfServiceForForegroundState:(char)arg1 isUpload:(char)arg2 isMetadata:(char)arg3 ;
-(id)_duetTicketForOperation:(id)arg1 clientBundleID:(id)arg2 foreground:(char)arg3 ;
-(id)_CPLRecordChangeFromCKRecord:(id)arg1 ;
-(id)_CloudKitBaseChangeForRecordType:(id)arg1 fromCPLRecordChange:(id)arg2 ;
-(id)_CloudKitMasterFromCPLMasterChange:(id)arg1 clearMissingResources:(char)arg2 outError:(id*)arg3 ;
-(id)_CloudKitAssetFromCPLAssetChange:(id)arg1 clearMissingResources:(char)arg2 outError:(id*)arg3 ;
-(id)_CloudKitContainerFromFromCPLAlbumChange:(id)arg1 ;
-(id)_CloudKitContainerRelationChangeFromCPLContainerRelationChange:(id)arg1 ;
-(id)_CloudKitPersonChangeFromCPLPersonChange:(id)arg1 ;
-(id)_CloudKitMemoryChangeFromCPLMemoryChange:(id)arg1 ;
-(id)_CloudKitFaceCropChangeFromCPLFaceCropChange:(id)arg1 ;
-(void)_CKOperation:(id)arg1 didProgress:(double)arg2 ;
-(void)_updateDownloadOperation:(id)arg1 withCellularAccessForResource:(id)arg2 isForeground:(char)arg3 isHighPriority:(char)arg4 ;
-(void)_inMemoryDownloadResourceForRecordName:(id)arg1 resourceKey:(id)arg2 foreground:(char)arg3 cancelState:(id)arg4 completionHandler:(/*^block*/id)arg5 ;
-(void)_updateLocalZoneStateFromCloudKitZoneState:(id)arg1 ;
-(void)_fetchRecords:(id)arg1 foreground:(char)arg2 cancelState:(id)arg3 completionHandler:(/*^block*/id)arg4 ;
-(void)_queryNextBatchForCursor:(id)arg1 forClass:(Class)arg2 foreground:(char)arg3 cancelState:(id)arg4 progressHandler:(/*^block*/id)arg5 completionHandler:(/*^block*/id)arg6 ;
-(void)_downloadNextChangeBatchForSyncAnchor:(id)arg1 foreground:(char)arg2 cancelState:(id)arg3 progressHandler:(/*^block*/id)arg4 completionHandler:(/*^block*/id)arg5 ;
-(id)_createChangeBatchFromUpdates:(id)arg1 deletions:(id)arg2 faceCropChangesMissingResource:(id)arg3 ;
-(void)_markBatchForCKOperation:(id)arg1 ;
-(id)_CPLMasterChangeFromCloudKitMaster:(id)arg1 withChangeType:(unsigned)arg2 ;
-(id)_CPLAssetChangeFromCloudKitAsset:(id)arg1 withChangeType:(unsigned)arg2 ;
-(id)_CPLAlbumChangeFromCloudKitAlbum:(id)arg1 withChangeType:(unsigned)arg2 ;
-(id)_CPLPersonChangeFromCloudKitPerson:(id)arg1 withChangeType:(unsigned)arg2 ;
-(id)_CPLMemoryChangeFromCloudKitMemory:(id)arg1 withChangeType:(unsigned)arg2 ;
-(id)_CPLContainerRelationChangeFromCloudKitContainerRelation:(id)arg1 withChangeType:(unsigned)arg2 ;
-(id)_CPLFaceCropChangeFromCloudKitFaceCrop:(id)arg1 withChangeType:(unsigned)arg2 ;
-(void)_updateLibraryInfoFromCKRecord:(id)arg1 ;
-(void)_updateFingerPrint:(id)arg1 inResourceIdentity:(id)arg2 incoherentErrorDescription:(id*)arg3 ;
-(void)_updatePropertyInResourceIdentity:(id)arg1 forSuffix:(id)arg2 withValue:(id)arg3 incoherentErrorDescription:(id*)arg4 ;
-(void)_updateBaseCPLRecordChange:(id)arg1 fromCloudKitRecord:(id)arg2 ;
-(void)_addResourcesFromCloudKitRecord:(id)arg1 toFinalResources:(id)arg2 withIdentifier:(id)arg3 isCoherent:(char*)arg4 ;
-(void)_updateRemapInfoInCPLRecordChange:(id)arg1 withCloudKitRecord:(id)arg2 ;
-(id)_validatedObjectForKey:(id)arg1 fromDict:(id)arg2 validateClass:(Class)arg3 ;
-(id)_CLLocationFromCPLLocationDict:(id)arg1 ;
-(id)_CPLPlaceAnnotationFromDictionary:(id)arg1 ;
-(void)_addResourceValuesForResourceType:(unsigned)arg1 imageWidth:(id)arg2 imageHeight:(id)arg3 fileSize:(id)arg4 fileUTI:(id)arg5 fingerPrint:(id)arg6 resourceFileURL:(id)arg7 setResource:(char)arg8 toCloudKitRecord:(id)arg9 ;
-(void)_clearResourceWithType:(unsigned)arg1 inCloudKitRecord:(id)arg2 ;
-(id)_addResourcesFromCPLResources:(id)arg1 clearMissing:(char)arg2 clearResourceIfNecessary:(char)arg3 toCloudKitRecord:(id)arg4 ;
-(id)_CPLLocationFromCLLocation:(id)arg1 ;
-(id)_dictionaryFromCPLPlaceAnnotation:(id)arg1 ;
-(id)newCKRecordFromCPLRecordChange:(id)arg1 withRecordType:(id)arg2 recordID:(id)arg3 ;
-(void)_updateBaseCloudKitRecord:(id)arg1 fromCPLRecordChange:(id)arg2 ;
-(char)_operationUsesBackgroundSession:(id)arg1 ;
-(id)_pendingOperationsStatus;
-(void)_emitLogForCurrentOperations;
-(id)_budgetDescriptionForDuetTicketProvider:(id)arg1 ;
-(id)_imagePrefixForresourceType:(unsigned)arg1 ;
-(NSDate *)significantWorkBeginDate;
-(void)setSignificantWorkBeginDate:(NSDate *)arg1 ;
-(id)componentName;
-(void)openWithCompletionHandler:(/*^block*/id)arg1 ;
-(CPLEngineLibrary *)engineLibrary;
-(void)closeAndDeactivate:(char)arg1 completionHandler:(/*^block*/id)arg2 ;
-(void)getStatusWithCompletionHandler:(/*^block*/id)arg1 ;
-(void)getStatusDictionaryWithCompletionHandler:(/*^block*/id)arg1 ;
-(char)supportsBatchDownloadPipelining;
-(id)setupTaskCreateLibraryIfNecessary:(char)arg1 withCompletionHandler:(/*^block*/id)arg2 ;
-(id)checkRecordsExistenceTaskForRecords:(id)arg1 fetchRecordProperties:(id)arg2 withCompletionHandler:(/*^block*/id)arg3 ;
-(id)uploadBatchTaskForBatch:(id)arg1 progressHandler:(/*^block*/id)arg2 completionHandler:(/*^block*/id)arg3 ;
-(id)queryTaskForCursor:(id)arg1 class:(Class)arg2 progressHandler:(/*^block*/id)arg3 completionHandler:(/*^block*/id)arg4 ;
-(id)downloadBatchTaskForSyncAnchor:(id)arg1 progressHandler:(/*^block*/id)arg2 completionHandler:(/*^block*/id)arg3 ;
-(id)getLibraryInfoAndUpdateState:(char)arg1 withCompletionHandler:(/*^block*/id)arg2 ;
-(id)resourceDownloadTaskForResource:(id)arg1 clientBundleID:(id)arg2 didStartHandler:(/*^block*/id)arg3 progressHandler:(/*^block*/id)arg4 completionHandler:(/*^block*/id)arg5 ;
-(char)canBatchResourceDownloadTasks:(id)arg1 :(id)arg2 ;
-(void)runResourceDownloadTasks:(id)arg1 ;
-(id)resourcePublishTaskForResource:(id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(id)rampingRequestTaskForResourceType:(unsigned)arg1 numRequested:(unsigned)arg2 completionHandler:(/*^block*/id)arg3 ;
-(id)inMemoryDownloadTaskForResource:(id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(id)sendFeedbackTaskForMessages:(id)arg1 completionHandler:(/*^block*/id)arg2 ;
-(id)bestErrorForUnderlyingError:(id)arg1 ;
-(id)simpleDataForSyncAnchor:(id)arg1 ;
-(char)hasOngoingDownloadOperations;
-(id)initWithAbstractObject:(id)arg1 ;
-(void)noteClientIsBeginningSignificantWork;
-(void)noteClientIsEndingSignificantWork;
-(void)noteClientIsInForeground;
-(void)noteClientIsInBackground;
-(CKDatabase *)database;
-(NSObject*<OS_dispatch_queue>)workQueue;
-(CKRecord *)userRecord;
-(void)setUserRecord:(CKRecord *)arg1 ;
-(void)setDatabase:(CKDatabase *)arg1 ;
-(void)connection:(id)arg1 didReceivePublicToken:(id)arg2 ;
-(void)connection:(id)arg1 didReceiveToken:(id)arg2 forTopic:(id)arg3 identifier:(id)arg4 ;
-(void)connection:(id)arg1 didReceiveIncomingMessage:(id)arg2 ;
@end

