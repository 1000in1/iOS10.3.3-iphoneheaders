/*
* This header is generated by classdump-dyld 1.0
* on Sunday, December 31, 2017 at 12:57:01 AM Japan Standard Time
* Operating System: Version 10.3.3 (Build 14G60)
* Image Source: /System/Library/PrivateFrameworks/IDS.framework/identityservicesd.app/identityservicesd
* classdump-dyld is licensed under GPLv3, Copyright Â© 2013-2016 by Elias Limneos.
*/

#import <identityservicesd/IDSSocketPairConnectionDelegate.h>

@protocol IDSUTunConnectionDelegate;
@class NSMutableArray, NSMutableDictionary, IDSSocketPairConnection, IMTimer, NSString, IDSLocalDeliveryQueue, IMPowerAssertion, NSDate, NSMutableSet, IDSUTunPeerServiceMap, NSArray, NSDictionary;

@interface IDSUTunConnection : NSObject <IDSSocketPairConnectionDelegate> {

	id<IDSUTunConnectionDelegate> _delegate;
	NSMutableArray* _sendingMessages;
	NSMutableArray* _fallbackMessages;
	NSMutableDictionary* _statistics;
	NSMutableDictionary* _cumulativeOutgoingStatistics;
	NSMutableDictionary* _cumulativeIncomingStatistics;
	NSMutableDictionary* _tokenToOTREncryptionQueue;
	NSMutableDictionary* _tokenToOTRError;
	NSMutableDictionary* _dataProtectedIncomingMessages;
	IDSSocketPairConnection* _socketConnection;
	char _openSocketCalled;
	char _connectionSuspended;
	IMTimer* _timeoutTimer;
	IMTimer* _fallbackTimer;
	NSString* _identifier;
	NSString* _otrTokenIdentifier;
	IDSLocalDeliveryQueue* _deliveryQueue;
	IMPowerAssertion* _sendingPowerAssertion;
	double _rtt;
	int _cachedBytes[3];
	unsigned _maxQueueSize;
	int _priority;
	NSString* _cbuuid;
	NSString* _uniqueID;
	NSDate* _lastFallback;
	char _isPeerAwake;
	char _enabled;
	char _needsHandshake;
	char _isAlwaysConnected;
	char _isCloudEnabled;
	NSMutableDictionary* _incomingResourceTransfers;
	NSMutableSet* _resettingIncomingResourceTransfers;
	NSMutableSet* _resumingIncomingResourceTransfers;
	char _resumeResourceTransfers;
	char _enableOTR;
	char _useSharedOTRSession;
	char _useNamedOTRSessionToken;
	char _supportsLegacyOTRSessionToken;
	char _newServiceSupported;
	char _supportDynamicServices;
	char _supportDynamicServicesOptimization;
	unsigned short _serviceMinCompatibilityVersion;
	NSMutableSet* _admissionDeniedTopics;
	unsigned char _remoteInstanceID[16];
	IDSUTunPeerServiceMap* _incomingServiceMap;
	IDSUTunPeerServiceMap* _outgoingServiceMap;
	NSMutableDictionary* _incomingServiceMapUpdateCounter;
	NSArray* _supportedMessageTypes;

}

@property (assign,nonatomic,__weak) id<IDSUTunConnectionDelegate> delegate;              //@synthesize delegate=_delegate - In the implementation block
@property (assign,nonatomic) unsigned maxQueueSize;                                      //@synthesize maxQueueSize=_maxQueueSize - In the implementation block
@property (nonatomic,readonly) char isConnected; 
@property (assign,nonatomic) char isAlwaysConnected;                                     //@synthesize isAlwaysConnected=_isAlwaysConnected - In the implementation block
@property (nonatomic,readonly) NSString * identifier;                                    //@synthesize identifier=_identifier - In the implementation block
@property (nonatomic,readonly) NSDictionary * sendingMessageStatistics; 
@property (nonatomic,readonly) NSDictionary * queueStatistics; 
@property (nonatomic,readonly) char isEmpty; 
@property (nonatomic,readonly) NSDictionary * cumulativeIncomingStatistics;              //@synthesize cumulativeIncomingStatistics=_cumulativeIncomingStatistics - In the implementation block
@property (nonatomic,readonly) NSDictionary * cumulativeOutgoingStatistics;              //@synthesize cumulativeOutgoingStatistics=_cumulativeOutgoingStatistics - In the implementation block
@property (assign,nonatomic) char enableOTR;                                             //@synthesize enableOTR=_enableOTR - In the implementation block
@property (nonatomic,readonly) char isCloudEnabled;                                      //@synthesize isCloudEnabled=_isCloudEnabled - In the implementation block
@property (assign,nonatomic) char supportsLegacyOTRSessionToken;                         //@synthesize supportsLegacyOTRSessionToken=_supportsLegacyOTRSessionToken - In the implementation block
@property (nonatomic,retain) NSArray * supportedMessageTypes;                            //@synthesize supportedMessageTypes=_supportedMessageTypes - In the implementation block
@property (nonatomic,retain) NSString * cbuuid;                                          //@synthesize cbuuid=_cbuuid - In the implementation block
@property (readonly) unsigned hash; 
@property (readonly) Class superclass; 
@property (copy,readonly) NSString * description; 
@property (copy,readonly) NSString * debugDescription; 
-(NSString *)cbuuid;
-(void)setCbuuid:(NSString *)arg1 ;
-(void)connectionDidReachInFlightMessageLowWaterMark:(id)arg1 ;
-(void)connection:(id)arg1 didReceiveDataMessage:(id)arg2 ;
-(void)connectionDidReceiveBytes:(id)arg1 ;
-(void)connectionBecameEmpty:(id)arg1 ;
-(id)initWithIdentifier:(id)arg1 socketPriority:(int)arg2 btUUID:(id)arg3 uniqueID:(id)arg4 incomingServiceMap:(id)arg5 outgoingServiceMap:(id)arg6 isCloudEnabled:(char)arg7 ;
-(void)setSupportsLegacyOTRSessionToken:(char)arg1 ;
-(void)setMaxQueueSize:(unsigned)arg1 ;
-(void)setSupportedMessageTypes:(NSArray *)arg1 ;
-(char)hasSpaceForMessagesWithDataProtectionClass:(unsigned)arg1 ;
-(NSDictionary *)sendingMessageStatistics;
-(void)_addStatsFromDict:(id)arg1 toAggregate:(id)arg2 ;
-(NSDictionary *)queueStatistics;
-(NSDictionary *)cumulativeOutgoingStatistics;
-(NSDictionary *)cumulativeIncomingStatistics;
-(void)flushAllMessagesForReason:(int)arg1 ;
-(void)setEnableOTR:(char)arg1 ;
-(void)setIsPeerAwake:(char)arg1 ;
-(void)dropDisallowedMessages;
-(void)trafficClassesChanged;
-(void)cancelMessageID:(id)arg1 ;
-(NSArray *)supportedMessageTypes;
-(void)setIsAlwaysConnected:(char)arg1 ;
-(void)forceOTRNegotiation:(id)arg1 priority:(int)arg2 completionBlock:(/*^block*/id)arg3 ;
-(void)admissionPolicyChangedForTopic:(id)arg1 allowed:(char)arg2 ;
-(char)isPeerAwake;
-(char)enableOTR;
-(void)classStorageBecameAvailable:(id)arg1 ;
-(void)_nonThreadSafeStopConnection;
-(unsigned)_sendingMessageCountForClass:(unsigned)arg1 ;
-(unsigned)_sendingMessageCountForType:(long long)arg1 ;
-(unsigned)_pendingOutgoingBytesForClass:(unsigned)arg1 ;
-(char)_isWiProxPeer;
-(id)_nonThreadSafeSocketOptions;
-(void)_connectivityChanged;
-(void)_dequeueMessages;
-(char)_nonThreadSafeIsConnected;
-(char)_isMagnetConnection;
-(void)_clearLastFallbackWithReason:(id)arg1 ;
-(id)_encryptDataWithOTR:(id)arg1 token:(id)arg2 ;
-(id)_decryptOTREncrtypedMessage:(id)arg1 ;
-(void)_sendSocketMessage:(id)arg1 ;
-(void)_removeMessageFromStatistics:(id)arg1 ;
-(void)_startConnectionForContinuityPeer;
-(void)_removeSocketPairMessage:(id)arg1 localMessage:(id)arg2 reason:(id)arg3 responseCode:(int)arg4 ;
-(void)_resetFallbackTimeout:(double)arg1 useNextFallback:(char)arg2 ;
-(void)_resetTimeout:(id)arg1 ;
-(void)_handleBecomingEmptyForDataProtectionClass:(unsigned)arg1 ;
-(void)_handleBecomingEmpty;
-(void)_handleBecomingEmptyOfCloudMessages;
-(void)_clearSendingPowerAssertionWithReason:(id)arg1 ;
-(double)_fallbackTimeout;
-(void)_fallbackTimerFired;
-(char)_messageIsAllowedToSendMessageOnTopic:(id)arg1 ;
-(char)_performFallbackIfNecessary:(id)arg1 ;
-(void)_messageTimedOut:(id)arg1 localMessage:(id)arg2 ;
-(unsigned)_inflightMessageCountForClass:(unsigned)arg1 ;
-(char)_shouldAWDLogMessage:(id)arg1 ;
-(unsigned long long)_currentLink;
-(void)_sendSocketMessage:(id)arg1 ignoreSequenceNumber:(char)arg2 ;
-(char)supportsMessageOfType:(long long)arg1 ;
-(unsigned)_inflightMessageCountForType:(long long)arg1 ;
-(char)checkServiceCompability:(id)arg1 localMessage:(id)arg2 ;
-(void)_addOutgoingMessageSize:(unsigned long long)arg1 forTopic:(id)arg2 dataProtectionClass:(unsigned)arg3 isResource:(char)arg4 ;
-(char)_messageHasValidEncryptionStatus:(id)arg1 ;
-(void)_sendEncryptedMessage:(id)arg1 ;
-(void)_updateDictionary:(id)arg1 addMessageSize:(long long)arg2 addMessageCount:(long long)arg3 ;
-(void)_addMessageSize:(unsigned long long)arg1 forTopic:(id)arg2 direction:(unsigned char)arg3 dataProtectionClass:(unsigned)arg4 isResource:(char)arg5 ;
-(id)_sendingMessageStatisticsForClass:(unsigned)arg1 ;
-(void)_requeueSendingMessage:(id)arg1 ;
-(void)_requeueMessages:(id)arg1 ;
-(void)handleOTRNegotiationComplete:(id)arg1 ;
-(void)handleOTRNegotiationTimeout:(id)arg1 ;
-(void)_processIncomingDataMessage:(id)arg1 ;
-(void)_sendOTREncryptedMessage:(id)arg1 useEncryption:(char)arg2 streamID:(unsigned short)arg3 forPriority:(int)arg4 flag:(int)arg5 token:(id)arg6 ;
-(void)_sendPublicKeyEncryptedMessage:(id)arg1 ;
-(void)_sendOTREncryptionQueue:(id)arg1 streamID:(unsigned short)arg2 ;
-(char)_storeIncomingClassCDataMessageIfNeeded:(id)arg1 topic:(id)arg2 sequenceNumber:(unsigned)arg3 ;
-(void)_handleOTRDecryptionSuccess:(id)arg1 ;
-(char)_storeIncomingClassADataMesageIfNeeded:(id)arg1 topic:(id)arg2 sequenceNumber:(unsigned)arg3 ;
-(void)_handleOTRDecryptionError:(id)arg1 ;
-(id)_decryptPublicKeyEncryptedMessage:(id)arg1 ;
-(void)_flushMessagesAll:(char)arg1 response:(int)arg2 ;
-(void)sendAckForMessageWithSequenceNumber:(unsigned)arg1 ;
-(void)_processMessage:(id)arg1 withSequenceNumberBlock:(/*^block*/id)arg2 ;
-(void)_addIncomingMessageSize:(unsigned long long)arg1 forTopic:(id)arg2 ;
-(int)_socketToNiceCommand:(unsigned char)arg1 ;
-(id)_optionallyDecryptMessage:(id)arg1 ;
-(void)_sendExpiredAckForMessage:(id)arg1 ;
-(void)_dumpLogs;
-(void)_sendAckForMessage:(id)arg1 ;
-(void)_processIncomingResourceTransferMessage:(id)arg1 messageUUID:(id)arg2 streamID:(unsigned short)arg3 topic:(id)arg4 wantsAppAck:(char)arg5 expectsPeerResponse:(char)arg6 peerResponseIdentifier:(id)arg7 isDefaultPairedDevice:(char)arg8 ;
-(void)setDeviceBTUUID:(id)arg1 ;
-(unsigned)maxQueueSize;
-(char)isAlwaysConnected;
-(char)supportsLegacyOTRSessionToken;
-(void)setDelegate:(id<IDSUTunConnectionDelegate>)arg1 ;
-(void)dealloc;
-(id<IDSUTunConnectionDelegate>)delegate;
-(NSString *)identifier;
-(void)setEnabled:(char)arg1 ;
-(char)isEnabled;
-(char)isEmpty;
-(char)isConnected;
-(void)connectionDidClose:(id)arg1 ;
-(char)isCloudEnabled;
-(void)clearStats;
-(void)sendMessage:(id)arg1 ;
-(void)_timeoutTimerFired;
-(void)_startConnection;
@end

